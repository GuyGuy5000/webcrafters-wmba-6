@model wmbaApp.Models.Statistic
<partial name="_ViewHeading" />
<hr />

<form asp-controller="Statistics" asp-action="Edit" asp-route-id="@Model.ID" method="post" class="editform">
    <fieldset>
     
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="ID" />
        <input type="hidden" id="ratingInput" asp-for="Rating" />

        <div class="centerRating">
             <!-- Display the star rating UI -->
        <div class="form-group ">
            <label class="control-label">Rate Me  <i class="fa-solid fa-arrow-down fa-1x"></i></label>
            <div class="rating">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
            </div>
        </div>

        <div class="form-group">
            <input type="submit" value="Save" class="btn btn-outline-dark " />
            <a asp-action="Index" class="btn btn-outline-dark">Back   </a>
        </div>
        </div>
       
    </fieldset>
</form>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        $(document).ready(function () {
            // Function to handle star clicks
            $('.rating .star').on('click', function () {
                var value = parseInt($(this).attr('data-value'));
                $('#ratingInput').val(value);

                // Toggle "gold" class for visual feedback
                $('.rating .star').removeClass('gold'); // Remove gold class from all stars
                $(this).prevAll('.star').addBack().addClass('gold'); // Add gold class to clicked star and previous stars

                // Update UI to reflect selected rating (optional)
                $(this).addClass('selected').prevAll('.star').addClass('selected');
                $(this).nextAll('.star').removeClass('selected');
            });
        });
    </script>
}

